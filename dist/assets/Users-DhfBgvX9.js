import{h as e,j as s}from"./index-D9JmXA_p.js";import{r as t}from"./react-vendor-BnDW3H_d.js";import{z as a,h as r,J as l,b as d,n as x,O as i}from"./ui-vendor-DN-uZ73V.js";import"./query-vendor-DOOTwIbN.js";const n=()=>{const[n,c]=t.useState([]),[m,o]=t.useState(!0),[p,h]=t.useState(""),[g,u]=t.useState(1),[y,b]=t.useState(1);t.useEffect(()=>{j()},[g,p]);const j=async()=>{var s;o(!0);try{const t={page:g,limit:20,...p&&{search:p}},a=await e(t);a.success&&(c(a.users||[]),b((null==(s=a.pagination)?void 0:s.pages)||1))}catch(t){a.error(t.message||"Failed to fetch users")}finally{o(!1)}},f=e=>new Date(e).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"});return s.jsxs("div",{className:"space-y-5 md:space-y-6 lg:space-y-8",children:[s.jsxs("div",{className:"pb-2",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900",children:"Users Management"}),s.jsx("p",{className:"text-gray-600 mt-2 text-sm sm:text-base lg:text-lg",children:"Manage all registered users"})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 p-4 md:p-5",children:s.jsxs("div",{className:"relative",children:[s.jsx(r,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"text",placeholder:"Search users by name, phone, or email...",value:p,onChange:e=>{h(e.target.value),u(1)},className:"w-full pl-12 pr-4 py-3 md:py-3.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-medical-500 focus:border-medical-500 text-sm md:text-base"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden",children:m?s.jsxs("div",{className:"p-8 sm:p-12 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-medical-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600 text-sm sm:text-base",children:"Loading users..."})]}):0===n.length?s.jsxs("div",{className:"p-8 sm:p-12 text-center",children:[s.jsx(l,{className:"mx-auto text-gray-400",size:48}),s.jsx("p",{className:"mt-4 text-gray-600 text-sm sm:text-base",children:"No users found"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"hidden md:block overflow-x-auto",children:s.jsxs("table",{className:"w-full min-w-[800px]",children:[s.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b-2 border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 md:px-5 lg:px-6 py-4 text-left text-xs md:text-sm font-semibold text-gray-700 uppercase tracking-wider",children:"User"}),s.jsx("th",{className:"px-4 md:px-5 lg:px-6 py-4 text-left text-xs md:text-sm font-semibold text-gray-700 uppercase tracking-wider",children:"Contact"}),s.jsx("th",{className:"px-4 md:px-5 lg:px-6 py-4 text-left text-xs md:text-sm font-semibold text-gray-700 uppercase tracking-wider",children:"Role"}),s.jsx("th",{className:"px-4 md:px-5 lg:px-6 py-4 text-left text-xs md:text-sm font-semibold text-gray-700 uppercase tracking-wider",children:"Joined"}),s.jsx("th",{className:"px-4 md:px-5 lg:px-6 py-4 text-left text-xs md:text-sm font-semibold text-gray-700 uppercase tracking-wider",children:"Status"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(e=>{var t,a,r;return s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[s.jsx("td",{className:"px-4 md:px-5 lg:px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"h-11 w-11 md:h-12 md:w-12 rounded-full bg-medical-100 flex items-center justify-center flex-shrink-0 border-2 border-medical-200",children:s.jsx("span",{className:"text-medical-700 font-bold text-sm md:text-base",children:(null==(a=null==(t=e.name)?void 0:t[0])?void 0:a.toUpperCase())||(null==(r=e.phone)?void 0:r[0])||"U"})}),s.jsxs("div",{className:"ml-4 min-w-0",children:[s.jsx("div",{className:"text-sm md:text-base font-semibold text-gray-900 truncate",children:e.name||"User"}),s.jsxs("div",{className:"text-xs md:text-sm text-gray-500",children:["ID: ",e._id.slice(-8)]})]})]})}),s.jsxs("td",{className:"px-4 md:px-5 lg:px-6 py-4 whitespace-nowrap",children:[s.jsxs("div",{className:"text-sm md:text-base text-gray-900 flex items-center space-x-2",children:[s.jsx(d,{size:14,className:"flex-shrink-0 text-gray-400"}),s.jsx("span",{className:"truncate max-w-[140px]",children:e.phone})]}),e.email&&s.jsxs("div",{className:"text-xs md:text-sm text-gray-500 flex items-center space-x-2 mt-1.5",children:[s.jsx(x,{size:14,className:"flex-shrink-0 text-gray-400"}),s.jsx("span",{className:"truncate max-w-[140px]",children:e.email})]})]}),s.jsx("td",{className:"px-4 md:px-5 lg:px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"px-3 py-1.5 text-xs md:text-sm font-semibold rounded-full "+("ADMIN"===e.role?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"),children:e.role||"USER"})}),s.jsx("td",{className:"px-4 md:px-5 lg:px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm md:text-base text-gray-900 flex items-center space-x-2",children:[s.jsx(i,{size:14,className:"flex-shrink-0 text-gray-400"}),s.jsx("span",{children:f(e.createdAt)})]})}),s.jsx("td",{className:"px-4 md:px-5 lg:px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"px-3 py-1.5 text-xs md:text-sm font-semibold rounded-full "+(e.isVerified?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.isVerified?"Verified":"Pending"})})]},e._id)})})]})}),s.jsx("div",{className:"md:hidden divide-y divide-gray-200",children:n.map(e=>{var t,a,r;return s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-medical-100 flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-medical-700 font-semibold text-lg",children:(null==(a=null==(t=e.name)?void 0:t[0])?void 0:a.toUpperCase())||(null==(r=e.phone)?void 0:r[0])||"U"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:e.name||"User"}),s.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",e._id.slice(-8)]})]})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(d,{size:14,className:"text-gray-400"}),s.jsx("span",{className:"text-gray-900",children:e.phone})]}),e.email&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(x,{size:14,className:"text-gray-400"}),s.jsx("span",{className:"text-gray-900 break-all",children:e.email})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(i,{size:14,className:"text-gray-400"}),s.jsx("span",{className:"text-gray-900",children:f(e.createdAt)})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:[s.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full "+("ADMIN"===e.role?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"),children:e.role||"USER"}),s.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full "+(e.isVerified?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.isVerified?"Verified":"Pending"})]})]},e._id)})}),y>1&&s.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-4 md:py-5 border-t border-gray-200 bg-gray-50 flex flex-col sm:flex-row items-center justify-between gap-3",children:[s.jsx("button",{onClick:()=>u(e=>Math.max(1,e-1)),disabled:1===g,className:"w-full sm:w-auto px-5 py-2.5 border-2 border-gray-300 rounded-lg text-sm md:text-base font-medium text-gray-700 hover:bg-white hover:border-gray-400 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:"Previous"}),s.jsxs("span",{className:"text-sm md:text-base text-gray-700 font-medium",children:["Page ",g," of ",y]}),s.jsx("button",{onClick:()=>u(e=>Math.min(y,e+1)),disabled:g===y,className:"w-full sm:w-auto px-5 py-2.5 border-2 border-gray-300 rounded-lg text-sm md:text-base font-medium text-gray-700 hover:bg-white hover:border-gray-400 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:"Next"})]})]})})]})};export{n as default};
