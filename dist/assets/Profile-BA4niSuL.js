import{j as e}from"./index-D9JmXA_p.js";import{r as s}from"./react-vendor-BnDW3H_d.js";import{a}from"./api-BmK1iuKu.js";import{b as l,c as t}from"./query-vendor-DOOTwIbN.js";import{D as i,X as n,G as d,U as c,b as r,n as m,w as x,z as o}from"./ui-vendor-DN-uZ73V.js";const p=s.createContext(),u=()=>{const{user:u}=(()=>{const e=s.useContext(p);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e})(),[j,h]=s.useState(!1),[N,v]=s.useState({name:(null==u?void 0:u.name)||"",email:(null==u?void 0:u.email)||"",address:(null==u?void 0:u.address)||"",city:(null==u?void 0:u.city)||"",state:(null==u?void 0:u.state)||"",pincode:(null==u?void 0:u.pincode)||""}),y=l(),f=t(e=>a.put("/profile",e),{onSuccess:()=>{y.invalidateQueries("user"),o.success("Profile updated successfully"),h(!1)},onError:()=>{o.error("Failed to update profile")}}),b=e=>{v({...N,[e.target.name]:e.target.value})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Profile"}),j?e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>{v({name:(null==u?void 0:u.name)||"",email:(null==u?void 0:u.email)||"",address:(null==u?void 0:u.address)||"",city:(null==u?void 0:u.city)||"",state:(null==u?void 0:u.state)||"",pincode:(null==u?void 0:u.pincode)||""}),h(!1)},className:"btn-secondary flex items-center space-x-2",children:[e.jsx(n,{size:16}),e.jsx("span",{children:"Cancel"})]}),e.jsxs("button",{onClick:e=>{e.preventDefault(),f.mutate(N)},disabled:f.isLoading,className:"btn-primary flex items-center space-x-2",children:[e.jsx(d,{size:16}),e.jsx("span",{children:f.isLoading?"Saving...":"Save"})]})]}):e.jsxs("button",{onClick:()=>h(!0),className:"btn-primary flex items-center space-x-2",children:[e.jsx(i,{size:16}),e.jsx("span",{children:"Edit Profile"})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"card p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Personal Information"}),e.jsxs("form",{className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),j?e.jsx("input",{type:"text",name:"name",value:N.name,onChange:b,className:"input-field",required:!0}):e.jsxs("div",{className:"flex items-center space-x-3 py-2",children:[e.jsx(c,{size:20,className:"text-gray-400"}),e.jsx("span",{className:"text-gray-900",children:(null==u?void 0:u.name)||"Not provided"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),e.jsxs("div",{className:"flex items-center space-x-3 py-2",children:[e.jsx(r,{size:20,className:"text-gray-400"}),e.jsx("span",{className:"text-gray-900",children:(null==u?void 0:u.phoneNumber)||"Not provided"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),j?e.jsx("input",{type:"email",name:"email",value:N.email,onChange:b,className:"input-field"}):e.jsxs("div",{className:"flex items-center space-x-3 py-2",children:[e.jsx(m,{size:20,className:"text-gray-400"}),e.jsx("span",{className:"text-gray-900",children:(null==u?void 0:u.email)||"Not provided"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),j?e.jsx("textarea",{name:"address",value:N.address,onChange:b,rows:3,className:"input-field"}):e.jsxs("div",{className:"flex items-start space-x-3 py-2",children:[e.jsx(x,{size:20,className:"text-gray-400 mt-0.5"}),e.jsx("span",{className:"text-gray-900",children:(null==u?void 0:u.address)||"Not provided"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),j?e.jsx("input",{type:"text",name:"city",value:N.city,onChange:b,className:"input-field"}):e.jsx("div",{className:"py-2",children:e.jsx("span",{className:"text-gray-900",children:(null==u?void 0:u.city)||"Not provided"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State"}),j?e.jsx("input",{type:"text",name:"state",value:N.state,onChange:b,className:"input-field"}):e.jsx("div",{className:"py-2",children:e.jsx("span",{className:"text-gray-900",children:(null==u?void 0:u.state)||"Not provided"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pincode"}),j?e.jsx("input",{type:"text",name:"pincode",value:N.pincode,onChange:b,className:"input-field"}):e.jsx("div",{className:"py-2",children:e.jsx("span",{className:"text-gray-900",children:(null==u?void 0:u.pincode)||"Not provided"})})]})]})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Stats"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Total Orders"}),e.jsx("span",{className:"font-semibold",children:"0"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Prescriptions"}),e.jsx("span",{className:"font-semibold",children:"0"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Member Since"}),e.jsx("span",{className:"font-semibold",children:(null==u?void 0:u.createdAt)?new Date(u.createdAt).toLocaleDateString():"N/A"})]})]})]}),e.jsxs("div",{className:"card p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Settings"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{className:"w-full btn-secondary",children:"Change Password"}),e.jsx("button",{className:"w-full btn-secondary",children:"Notification Settings"}),e.jsx("button",{className:"w-full text-red-600 hover:text-red-700 text-sm",children:"Delete Account"})]})]})]})]})]})};export{u as default};
