import{k as e,j as s,n as t}from"./index-D9JmXA_p.js";import{r as a,c as r}from"./react-vendor-BnDW3H_d.js";import{z as d,s as l,h as i,P as x,D as c,t as n}from"./ui-vendor-DN-uZ73V.js";import"./query-vendor-DOOTwIbN.js";const m=()=>{const[m,o]=a.useState([]),[p,g]=a.useState(!0),[h,u]=a.useState(""),[y,b]=a.useState(1),[j,f]=a.useState(1),N=r();a.useEffect(()=>{v()},[y,h]);const v=async()=>{var s,t,a;g(!0);try{const r={page:y,limit:20,...h&&{search:h}},d=await e(r);d.success&&(o((null==(s=d.data)?void 0:s.products)||[]),f((null==(a=null==(t=d.data)?void 0:t.pagination)?void 0:a.pages)||1))}catch(r){d.error(r.message||"Failed to fetch products")}finally{g(!1)}},w=async e=>{if(confirm("Are you sure you want to delete this product?"))try{(await t(e)).success&&(d.success("Product deleted successfully"),v())}catch(s){d.error(s.message||"Failed to delete product")}},k=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e);return s.jsxs("div",{className:"space-y-5 md:space-y-6 lg:space-y-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 pb-2",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900",children:"Manage Products"}),s.jsx("p",{className:"text-gray-600 mt-2 text-sm sm:text-base lg:text-lg",children:"View, edit, and delete products"})]}),s.jsxs("button",{onClick:()=>N("/admin/dashboard/add-product"),className:"flex items-center justify-center space-x-2 px-5 py-2.5 md:px-6 md:py-3 bg-medical-600 text-white rounded-lg hover:bg-medical-700 transition-all duration-200 shadow-md hover:shadow-lg w-full sm:w-auto font-medium",children:[s.jsx(l,{size:20}),s.jsx("span",{children:"Add Product"})]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 p-4 md:p-5",children:s.jsxs("div",{className:"relative",children:[s.jsx(i,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"text",placeholder:"Search products by name, brand, or description...",value:h,onChange:e=>{u(e.target.value),b(1)},className:"w-full pl-12 pr-4 py-3 md:py-3.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-medical-500 focus:border-medical-500 text-sm md:text-base"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden",children:p?s.jsxs("div",{className:"p-8 sm:p-12 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-medical-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600 text-sm sm:text-base",children:"Loading products..."})]}):0===m.length?s.jsxs("div",{className:"p-8 sm:p-12 text-center",children:[s.jsx(x,{className:"mx-auto text-gray-400",size:48}),s.jsx("p",{className:"mt-4 text-gray-600 text-sm sm:text-base",children:"No products found"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"hidden md:block overflow-x-auto",children:s.jsxs("table",{className:"w-full min-w-[900px]",children:[s.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b-2 border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 md:px-5 lg:px-6 py-4 text-left text-xs md:text-sm font-semibold text-gray-700 uppercase tracking-wider",children:"Product"}),s.jsx("th",{className:"px-4 md:px-5 lg:px-6 py-4 text-left text-xs md:text-sm font-semibold text-gray-700 uppercase tracking-wider",children:"SKU"}),s.jsx("th",{className:"px-4 md:px-5 lg:px-6 py-4 text-left text-xs md:text-sm font-semibold text-gray-700 uppercase tracking-wider",children:"Price"}),s.jsx("th",{className:"px-4 md:px-5 lg:px-6 py-4 text-left text-xs md:text-sm font-semibold text-gray-700 uppercase tracking-wider",children:"Stock"}),s.jsx("th",{className:"px-4 md:px-5 lg:px-6 py-4 text-left text-xs md:text-sm font-semibold text-gray-700 uppercase tracking-wider",children:"Category"}),s.jsx("th",{className:"px-4 md:px-5 lg:px-6 py-4 text-left text-xs md:text-sm font-semibold text-gray-700 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-4 md:px-5 lg:px-6 py-4 text-left text-xs md:text-sm font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(e=>{var t;return s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[s.jsx("td",{className:"px-4 md:px-5 lg:px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center space-x-3 md:space-x-4",children:[(null==(t=e.images)?void 0:t[0])&&s.jsx("img",{src:e.images[0],alt:e.name,className:"w-12 h-12 md:w-14 md:h-14 object-cover rounded-lg flex-shrink-0 border border-gray-200"}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"text-sm md:text-base font-semibold text-gray-900 truncate",children:e.name}),s.jsx("div",{className:"text-xs md:text-sm text-gray-500 truncate",children:e.brand})]})]})}),s.jsx("td",{className:"px-4 md:px-5 lg:px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm md:text-base text-gray-900 font-mono font-medium",children:e.sku})}),s.jsxs("td",{className:"px-4 md:px-5 lg:px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm md:text-base font-semibold text-gray-900",children:k(e.price)}),e.mrp>e.price&&s.jsx("div",{className:"text-xs text-gray-500 line-through",children:k(e.mrp)})]}),s.jsx("td",{className:"px-4 md:px-5 lg:px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"px-3 py-1.5 text-xs md:text-sm font-semibold rounded-full "+(e.stock>0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.stock})}),s.jsx("td",{className:"px-4 md:px-5 lg:px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm md:text-base text-gray-900 truncate max-w-[150px]",children:e.category||"N/A"})}),s.jsx("td",{className:"px-4 md:px-5 lg:px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"px-3 py-1.5 text-xs md:text-sm font-semibold rounded-full "+(e.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.isActive?"Active":"Inactive"})}),s.jsx("td",{className:"px-4 md:px-5 lg:px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>N(`/admin/dashboard/edit-product/${e._id}`),className:"p-2 text-medical-600 hover:bg-medical-50 rounded-lg transition-all duration-200 hover:scale-110",title:"Edit",children:s.jsx(c,{size:18})}),s.jsx("button",{onClick:()=>w(e._id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-all duration-200 hover:scale-110",title:"Delete",children:s.jsx(n,{size:18})})]})})]},e._id)})})]})}),s.jsx("div",{className:"md:hidden divide-y divide-gray-200",children:m.map(e=>{var t;return s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[(null==(t=e.images)?void 0:t[0])&&s.jsx("img",{src:e.images[0],alt:e.name,className:"w-16 h-16 object-cover rounded flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),s.jsx("p",{className:"text-xs text-gray-500",children:e.brand}),s.jsxs("p",{className:"text-xs text-gray-500 font-mono mt-1",children:["SKU: ",e.sku]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Price:"}),s.jsx("div",{className:"font-medium text-gray-900",children:k(e.price)}),e.mrp>e.price&&s.jsx("div",{className:"text-xs text-gray-500 line-through",children:k(e.mrp)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Stock:"}),s.jsx("span",{className:"ml-1 px-2 py-1 text-xs font-semibold rounded-full "+(e.stock>0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.stock})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Category:"}),s.jsx("div",{className:"text-gray-900",children:e.category||"N/A"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Status:"}),s.jsx("span",{className:"ml-1 px-2 py-1 text-xs font-semibold rounded-full "+(e.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.isActive?"Active":"Inactive"})]})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-2 pt-2 border-t border-gray-100",children:[s.jsxs("button",{onClick:()=>N(`/admin/dashboard/edit-product/${e._id}`),className:"flex items-center space-x-1 px-3 py-1.5 text-sm text-medical-600 hover:bg-medical-50 rounded-lg transition-colors",children:[s.jsx(c,{size:16}),s.jsx("span",{children:"Edit"})]}),s.jsxs("button",{onClick:()=>w(e._id),className:"flex items-center space-x-1 px-3 py-1.5 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[s.jsx(n,{size:16}),s.jsx("span",{children:"Delete"})]})]})]},e._id)})}),j>1&&s.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-4 md:py-5 border-t border-gray-200 bg-gray-50 flex flex-col sm:flex-row items-center justify-between gap-3",children:[s.jsx("button",{onClick:()=>b(e=>Math.max(1,e-1)),disabled:1===y,className:"w-full sm:w-auto px-5 py-2.5 border-2 border-gray-300 rounded-lg text-sm md:text-base font-medium text-gray-700 hover:bg-white hover:border-gray-400 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:"Previous"}),s.jsxs("span",{className:"text-sm md:text-base text-gray-700 font-medium",children:["Page ",y," of ",j]}),s.jsx("button",{onClick:()=>b(e=>Math.min(j,e+1)),disabled:y===j,className:"w-full sm:w-auto px-5 py-2.5 border-2 border-gray-300 rounded-lg text-sm md:text-base font-medium text-gray-700 hover:bg-white hover:border-gray-400 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:"Next"})]})]})})]})};export{m as default};
