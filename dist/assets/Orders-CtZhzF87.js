import{i as e,j as s}from"./index-D9JmXA_p.js";import{r as t}from"./react-vendor-BnDW3H_d.js";import{z as a,Q as r,q as l,U as d,O as i}from"./ui-vendor-DN-uZ73V.js";import"./query-vendor-DOOTwIbN.js";const n=()=>{const[n,m]=t.useState([]),[x,o]=t.useState(!0),[c,p]=t.useState("all"),[g,h]=t.useState(1),[u,b]=t.useState(1);t.useEffect(()=>{y()},[g,c]);const y=async()=>{var s;o(!0);try{const t={page:g,limit:20,..."all"!==c&&{status:c}},a=await e(t);a.success&&(m(a.orders||[]),b((null==(s=a.pagination)?void 0:s.pages)||1))}catch(t){a.error(t.message||"Failed to fetch orders")}finally{o(!1)}},j=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e);return s.jsxs("div",{className:"space-y-5 md:space-y-6 lg:space-y-8",children:[s.jsxs("div",{className:"pb-2",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900",children:"Orders Management"}),s.jsx("p",{className:"text-gray-600 mt-2 text-sm sm:text-base lg:text-lg",children:"View and manage all orders"})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 p-4 md:p-5",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(r,{size:20,className:"text-gray-400 flex-shrink-0"}),s.jsx("label",{className:"text-sm md:text-base font-medium text-gray-700 whitespace-nowrap",children:"Status:"})]}),s.jsxs("select",{value:c,onChange:e=>{p(e.target.value),h(1)},className:"flex-1 sm:flex-none px-4 py-2.5 md:py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-medical-500 focus:border-medical-500 text-sm md:text-base font-medium",children:[s.jsx("option",{value:"all",children:"All Orders"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"confirmed",children:"Confirmed"}),s.jsx("option",{value:"processing",children:"Processing"}),s.jsx("option",{value:"shipped",children:"Shipped"}),s.jsx("option",{value:"delivered",children:"Delivered"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})}),s.jsx("div",{className:"space-y-4 md:space-y-5",children:x?s.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 p-8 sm:p-12 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-medical-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600 text-sm sm:text-base",children:"Loading orders..."})]}):0===n.length?s.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 p-8 sm:p-12 text-center",children:[s.jsx(l,{className:"mx-auto text-gray-400",size:48}),s.jsx("p",{className:"mt-4 text-gray-600 text-sm sm:text-base",children:"No orders found"})]}):n.map(e=>{var t,a,r,l,n,m,x,o;return s.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 p-5 md:p-6 lg:p-7 hover:shadow-lg transition-shadow duration-200",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4 mb-5",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 mb-3",children:[s.jsxs("h3",{className:"text-lg md:text-xl lg:text-2xl font-bold text-gray-900",children:["Order #",e._id.slice(-8).toUpperCase()]}),s.jsx("span",{className:`px-4 py-1.5 text-xs md:text-sm font-semibold rounded-full w-fit ${o=e.status,{PENDING:"bg-yellow-100 text-yellow-800",CONFIRMED:"bg-blue-100 text-blue-800",PROCESSING:"bg-purple-100 text-purple-800",SHIPPED:"bg-indigo-100 text-indigo-800",DELIVERED:"bg-green-100 text-green-800",CANCELLED:"bg-red-100 text-red-800"}[null==o?void 0:o.toUpperCase()]||"bg-gray-100 text-gray-800"}`,children:(null==(t=e.status)?void 0:t.toUpperCase())||"UNKNOWN"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 text-sm md:text-base text-gray-600",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(d,{size:16,className:"text-gray-400"}),s.jsx("span",{className:"font-medium",children:(null==(a=e.user)?void 0:a.name)||(null==(r=e.user)?void 0:r.phone)||"Unknown User"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(i,{size:16,className:"text-gray-400"}),s.jsx("span",{children:(x=e.createdAt,new Date(x).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))})]})]})]}),s.jsxs("div",{className:"text-left sm:text-right",children:[s.jsx("div",{className:"text-xl md:text-2xl lg:text-3xl font-bold text-gray-900",children:j(e.total)}),s.jsxs("div",{className:"text-sm md:text-base text-gray-500 mt-1",children:[(null==(l=e.items)?void 0:l.length)||0," item(s)"]})]})]}),s.jsx("div",{className:"border-t border-gray-200 pt-4",children:s.jsxs("div",{className:"space-y-2",children:[null==(n=e.items)?void 0:n.slice(0,3).map((e,t)=>s.jsxs("div",{className:"flex items-center space-x-3",children:[e.image&&s.jsx("img",{src:e.image,alt:e.name,className:"w-12 h-12 object-cover rounded"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.name}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Qty: ",e.quantity," Ã— ",j(e.price)]})]}),s.jsx("div",{className:"text-sm font-medium text-gray-900",children:j(e.price*e.quantity)})]},t)),(null==(m=e.items)?void 0:m.length)>3&&s.jsxs("p",{className:"text-sm text-gray-500 pt-2",children:["+",e.items.length-3," more item(s)"]})]})}),e.shippingAddress&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[s.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:"Shipping Address:"}),s.jsxs("p",{className:"text-sm text-gray-700",children:[e.shippingAddress.address,", ",e.shippingAddress.city,", ",e.shippingAddress.state," - ",e.shippingAddress.pincode]})]})]},e._id)})}),u>1&&s.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 px-4 sm:px-6 lg:px-8 py-4 md:py-5 flex flex-col sm:flex-row items-center justify-between gap-3",children:[s.jsx("button",{onClick:()=>h(e=>Math.max(1,e-1)),disabled:1===g,className:"w-full sm:w-auto px-5 py-2.5 border-2 border-gray-300 rounded-lg text-sm md:text-base font-medium text-gray-700 hover:bg-gray-50 hover:border-gray-400 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:"Previous"}),s.jsxs("span",{className:"text-sm md:text-base text-gray-700 font-medium",children:["Page ",g," of ",u]}),s.jsx("button",{onClick:()=>h(e=>Math.min(u,e+1)),disabled:g===u,className:"w-full sm:w-auto px-5 py-2.5 border-2 border-gray-300 rounded-lg text-sm md:text-base font-medium text-gray-700 hover:bg-gray-50 hover:border-gray-400 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:"Next"})]})]})};export{n as default};
