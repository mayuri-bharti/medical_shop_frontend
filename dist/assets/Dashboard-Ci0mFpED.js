import{b as e,l as s,j as a}from"./index-D9JmXA_p.js";import{r as l,c as t,L as d}from"./react-vendor-BnDW3H_d.js";import{z as i,L as c,b as r,U as n,n as m,c as x}from"./ui-vendor-DN-uZ73V.js";import"./query-vendor-DOOTwIbN.js";const o=()=>{const[o,h]=l.useState(null),[j,u]=l.useState(!0),g=t();l.useEffect(()=>{p()},[]);const p=async()=>{try{const s=await e();s.success&&h(s.data.user)}catch(s){i.error("Failed to load user data"),N()}finally{u(!1)}},N=async()=>{await s(),i.success("Logged out successfully"),g("/login")};return j?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-medical-600"})}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow-sm border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"MediShop"}),a.jsxs("button",{onClick:N,className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-50 rounded-lg transition-colors",children:[a.jsx(c,{size:18}),a.jsx("span",{children:"Logout"})]})]})})}),a.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxs("div",{className:"max-w-2xl mx-auto",children:[a.jsxs("div",{className:"bg-gradient-to-r from-medical-600 to-medical-700 rounded-2xl shadow-lg p-8 text-white mb-6",children:[a.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Welcome back! ðŸ‘‹"}),a.jsx("p",{className:"text-medical-100",children:"You have successfully logged in to MediShop"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Your Profile"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-medical-100 rounded-lg",children:a.jsx(r,{className:"text-medical-600",size:20})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Phone Number"}),a.jsxs("p",{className:"font-medium text-gray-900",children:["+91 ",null==o?void 0:o.phone]})]})]}),(null==o?void 0:o.name)&&a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-medical-100 rounded-lg",children:a.jsx(n,{className:"text-medical-600",size:20})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Name"}),a.jsx("p",{className:"font-medium text-gray-900",children:o.name})]})]}),(null==o?void 0:o.email)&&a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-medical-100 rounded-lg",children:a.jsx(m,{className:"text-medical-600",size:20})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),a.jsx("p",{className:"font-medium text-gray-900",children:o.email})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-medical-100 rounded-lg",children:a.jsx(x,{className:"text-medical-600",size:20})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Role"}),a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-medical-100 text-medical-800",children:(null==o?void 0:o.role)||"USER"})]})]})]})]}),a.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-4",children:[a.jsxs(d,{to:"/products",className:"bg-white rounded-lg shadow-md p-4 text-left hover:shadow-lg transition-shadow",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Browse Products"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Shop medicines and health products"})]}),a.jsxs(d,{to:"/orders",className:"bg-white rounded-lg shadow-md p-4 text-left hover:shadow-lg transition-shadow",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"My Orders"}),a.jsx("p",{className:"text-sm text-gray-600",children:"View and track your orders"})]})]}),"ADMIN"===(null==o?void 0:o.role)&&a.jsx("div",{className:"mt-6",children:a.jsxs(d,{to:"/admin/products",className:"block bg-medical-600 text-white rounded-lg shadow-md p-4 hover:bg-medical-700 transition-colors",children:[a.jsx("h4",{className:"font-semibold mb-1",children:"Admin Panel"}),a.jsx("p",{className:"text-sm text-medical-100",children:"Manage products and inventory"})]})})]})})]})};export{o as default};
